# ===========================================
# CollabHub Music Backend Configuration
# ===========================================

# Environment Configuration
ENVIRONMENT=development
APP_NAME=CollabHub Music Backend
APP_VERSION=1.0.0

# ===========================================
# Server Configuration
# ===========================================
SERVER_HOST=localhost
SERVER_PORT=8443
SERVER_READ_TIMEOUT=30
SERVER_WRITE_TIMEOUT=30
SERVER_IDLE_TIMEOUT=120

# TLS/HTTPS Configuration
TLS_ENABLED=true
TLS_CERT_FILE=./certs/server.crt
TLS_KEY_FILE=./certs/server.key

# File Upload Configuration
ENABLE_FILE_UPLOADS=true
MAX_UPLOAD_SIZE=10485760  # 10MB in bytes
ALLOWED_FILE_TYPES=mp3,wav,flac,aac,ogg,m4a,wma

# ===========================================
# Database Configuration
# ===========================================
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=collabhub_music
DATABASE_USER=collabhub_user
DATABASE_PASSWORD=your_secure_password
DATABASE_SSL_MODE=disable
DATABASE_MAX_CONNECTIONS=25
DATABASE_MAX_IDLE_CONNECTIONS=5
DATABASE_CONNECTION_LIFETIME=300  # seconds

# ===========================================
# Keycloak Authentication Configuration
# ===========================================
KEYCLOAK_URL=http://localhost:8080
KEYCLOAK_REALM=collabhub-music
KEYCLOAK_CLIENT_ID=collabhub-backend
KEYCLOAK_CLIENT_SECRET=your_keycloak_client_secret
KEYCLOAK_ADMIN_USERNAME=admin
KEYCLOAK_ADMIN_PASSWORD=admin_password

# JWT Configuration
JWT_ACCESS_TOKEN_LIFETIME=3600    # 1 hour in seconds
JWT_REFRESH_TOKEN_LIFETIME=604800 # 7 days in seconds

# ===========================================
# CORS Configuration for React Native
# ===========================================
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8081,exp://192.168.1.100:8081,http://192.168.1.100:8081,https://localhost:3000
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS,PATCH
CORS_ALLOWED_HEADERS=Origin,Content-Type,Authorization,X-Requested-With,Accept,Access-Control-Request-Method,Access-Control-Request-Headers
CORS_ALLOW_CREDENTIALS=true
CORS_MAX_AGE=86400  # 24 hours

# ===========================================
# Storage Configuration
# ===========================================
STORAGE_BASE_PATH=./storage
STORAGE_AUDIO_PATH=./storage/audio
STORAGE_IMAGE_PATH=./storage/images
STORAGE_TEMP_PATH=./storage/temp
STORAGE_BACKUP_PATH=./storage/backups

# ===========================================
# Logging Configuration
# ===========================================
LOG_LEVEL=debug
LOG_FORMAT=json
LOG_FILE=./logs/app.log
LOG_MAX_SIZE=100    # MB
LOG_MAX_BACKUPS=5
LOG_MAX_AGE=30      # days

# ===========================================
# Redis Configuration (for caching - optional)
# ===========================================
REDIS_ENABLED=false
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DATABASE=0
REDIS_POOL_SIZE=10

# ===========================================
# Email Configuration (for notifications - optional)
# ===========================================
EMAIL_ENABLED=false
EMAIL_SMTP_HOST=smtp.gmail.com
EMAIL_SMTP_PORT=587
EMAIL_USERNAME=your_email@gmail.com
EMAIL_PASSWORD=your_app_password
EMAIL_FROM_NAME=CollabHub Music
EMAIL_FROM_ADDRESS=noreply@collabhub-music.com

# ===========================================
# Rate Limiting Configuration
# ===========================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_BURST=10

# ===========================================
# Monitoring Configuration
# ===========================================
METRICS_ENABLED=true
HEALTH_CHECK_INTERVAL=30  # seconds

# ===========================================
# Development Configuration
# ===========================================
# Set to true to enable Swagger documentation
SWAGGER_ENABLED=true

# Set to true to enable debug logging
DEBUG_MODE=true

# Set to true to enable hot reload (development only)
HOT_RELOAD=true

# ===========================================
# Production Configuration
# ===========================================
# Uncomment and configure for production deployment

# ENVIRONMENT=production
# DEBUG_MODE=false
# SWAGGER_ENABLED=false
# TLS_ENABLED=true
# DATABASE_SSL_MODE=require
# DATABASE_MAX_CONNECTIONS=50

# ===========================================
# Security Configuration
# ===========================================
# API Keys for external services (if needed)
# SPOTIFY_CLIENT_ID=your_spotify_client_id
# SPOTIFY_CLIENT_SECRET=your_spotify_client_secret

# Encryption keys
# ENCRYPTION_KEY=your_32_character_encryption_key_here

# Session configuration
SESSION_SECRET=your_very_secure_session_secret_key_here_change_in_production
CSRF_TOKEN_SECRET=your_csrf_token_secret_here

# ===========================================
# Feature Flags
# ===========================================
FEATURE_AUDIO_STREAMING=true
FEATURE_REAL_TIME_COLLABORATION=true
FEATURE_VIDEO_CALLS=false
FEATURE_AI_SUGGESTIONS=false
FEATURE_SOCIAL_LOGIN=true

# ===========================================
# React Native Specific Configuration
# ===========================================
# These origins should match your React Native development setup
EXPO_DEV_SERVER_URL=exp://192.168.1.100:8081
METRO_BUNDLER_URL=http://localhost:8081
ANDROID_EMULATOR_URL=http://10.0.2.2:8443
IOS_SIMULATOR_URL=http://localhost:8443

# Deep linking configuration
DEEP_LINK_SCHEME=collabhub
DEEP_LINK_HOST=music.collabhub.com

# ===========================================
# Development Tools
# ===========================================
# Database seeding (development only)
SEED_DATABASE=true
SEED_USERS_COUNT=10
SEED_PROJECTS_COUNT=5
SEED_ORGANIZATIONS_COUNT=3
